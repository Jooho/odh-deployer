apiVersion: kfdef.apps.kubeflow.org/v1
kind: KfDef
metadata:
  name: rhods-nbc
spec:
  applications:
  - kustomizeConfig:
      repoRef:
        name: manifests
        path: odh-common
    name: odh-common
  - kustomizeConfig:
      parameters:
      - name: odh-minimal-notebook-image-digest
        value: $ODH_MINIMAL_NOTEBOOK_IMAGE_DIGEST
      - name: generic-data-science-notebook-image-digest
        value: $GENERIC_DATA_SCIENCE_NOTEBOOK_IMAGE_DIGEST
      overlays:
      - additional
      repoRef:
        name: manifests
        path: jupyterhub/notebook-images
    name: notebook-images
  - kustomizeConfig:
      parameters:
      - name: odh-notebook-image-digest
        value: $ODH_NOTEBOOK_IMAGE_DIGEST
      - name: kf-notebook-image-digest
        value: $KF_NOTEBOOK_IMAGE_DIGEST
      repoRef:
        name: manifests
        path: odh-notebook-controller
    name: odh-notebook-controller
  repos:
  - name: manifests
    uri: file:///opt/manifests/odh-manifests.tar.gz
  version: v1.0.0